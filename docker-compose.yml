##
## -------------------------
## |   M E D I A B O X     |
## -------------------------
##
## -- DO NOT EDIT THIS FILE --
##
## Configuration variables for this file are taken from the .env file
##
## Have docker-compose.yml and .env in the same directory to launch the stack

version: '3.5'

services:

    # ----------------------------------------
    # HEADPHONES
    # ----------------------------------------
    headphones:
        image: linuxserver/headphones
        container_name: headphones
        restart: unless-stopped
        network_mode: "bridge"
        ports:
            - '${IP_ADDRESS}:8282:8181'
        environment:
            - PUID=${PUID}
            - PGID=${PGID}
            - TZ=${TZ}
        volumes:
            - './headphones:/config'
            - '${DLDIR}/completed:/downloads'
            - '${MUSICDIR}:/music'

    # ----------------------------------------
    # JACKETT
    # ----------------------------------------
    jackett:
        image: linuxserver/jackett
        container_name: jackett
        restart: unless-stopped
        network_mode: "bridge"
        ports:
            - '${IP_ADDRESS}:9117:9117'
        environment:
            - PUID=${PUID}
            - PGID=${PGID}
        volumes:
            - './jackett:/config'
            - '${DLDIR}/completed:/downloads'
            - '/etc/localtime:/etc/localtime:ro'

    # ----------------------------------------
    # JELLYFIN
    # ----------------------------------------
    jellyfin:
        image: jellyfin/jellyfin
        container_name: jellyfin
        restart: unless-stopped
        network_mode: "host"
        user: "${PUID}:${PGID}"
        ports:
            - '${IP_ADDRESS}:8096:8096'
        volumes:
            - './jellyfin:/config'
            - '${TVDIR}:/media/tv'
            - '${MOVIEDIR}:/media/movies'
            - '/etc/localtime:/etc/localtime:ro'

    # ----------------------------------------
    # MUXIMUX
    # ----------------------------------------
    muximux:
        image: linuxserver/muximux
        container_name: muximux
        restart: unless-stopped
        network_mode: "bridge"
        ports:
            - '${IP_ADDRESS}:80:80'
        environment:
            - PUID=${PUID}
            - PGID=${PGID}
        volumes:
            - './muximux:/config'
            - '/etc/localtime:/etc/localtime:ro'

    # ----------------------------------------
    # NZBGet
    # ----------------------------------------
    nzbget:
        image: linuxserver/nzbget
        container_name: nzbget
        restart: unless-stopped
        environment:
          - PUID=${PUID}
          - PGID=${PGID}
          - TZ=${TZ}
        network_mode: 'bridge'
        ports:
          - '${IP_ADDRESS}:6789:6789'
        volumes:
          - './nzbget:/config'
          - '${DLDIR}/nbzget:/downloads'

    # ----------------------------------------
    # OMBI
    # ----------------------------------------
    ombi:
        image: linuxserver/ombi
        container_name: ombi
        restart: unless-stopped
        network_mode: "bridge"
        ports:
            - '${IP_ADDRESS}:3579:3579'
        environment:
            - PUID=${PUID}
            - PGID=${PGID}
        volumes:
            - './ombi:/config'
            - '/etc/localtime:/etc/localtime:ro'

    # ----------------------------------------
    # OUROBOROS
    # ----------------------------------------
    ouroboros:
        image: pyouroboros/ouroboros
        container_name: ouroboros
        restart: unless-stopped
        network_mode: "bridge"
        hostname: '${HOSTNAME}'
        environment:
            - CLEANUP=true
            - CRON="0 */6 * * *"
            - LOG_LEVEL=info
            - SELF_UPDATE=true
            - TZ=${TZ}
        volumes:
            - '/var/run/docker.sock:/var/run/docker.sock'

    # ----------------------------------------
    # PORTAINER
    # ----------------------------------------
    portainer:
        image: portainer/portainer:latest
        container_name: portainer
        restart: unless-stopped
        network_mode: "bridge"
        ports:
            - '${IP_ADDRESS}:9000:9000'
        environment:
            - PUID=${PUID}
            - PGID=${PGID}
        volumes:
            - './portainer:/data'
            - '/var/run/docker.sock:/var/run/docker.sock'
            - '/etc/localtime:/etc/localtime:ro'
        command: ${PORTAINERSTYLE} -H unix:///var/run/docker.sock

    # ----------------------------------------
    # RADARR
    # ----------------------------------------
    radarr:
        image: linuxserver/radarr
        container_name: radarr
        restart: unless-stopped
        network_mode: "bridge"
        ports:
            - '${IP_ADDRESS}:7878:7878'
        environment:
            - PUID=${PUID}
            - PGID=${PGID}
        volumes:
            - './radarr:/config'
            - '${DLDIR}/completed:/data/completed'
            - '${MOVIEDIR}:/movies'
            - '/etc/localtime:/etc/localtime:ro'

    # ----------------------------------------
    # SONARR
    # ----------------------------------------
    sonarr:
        image: linuxserver/sonarr
        container_name: sonarr
        restart: unless-stopped
        network_mode: "bridge"
        ports:
            - '${IP_ADDRESS}:8989:8989'
        environment:
            - PUID=${PUID}
            - PGID=${PGID}
            - TZ=${TZ}
        volumes:
            - './sonarr:/config'
            - '${DLDIR}/completed:/data/completed'
            - '${TVDIR}:/tv'
            - '/etc/localtime:/etc/localtime:ro'
